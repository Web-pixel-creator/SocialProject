name: Playwright Bootstrap
description: Install Playwright browser binaries (and optional system dependencies).

inputs:
  playwright_browser:
    description: Playwright browser channel to install.
    required: false
    default: chromium
  install_with_deps:
    description: Whether to install browser system dependencies.
    required: false
    default: "true"

runs:
  using: composite
  steps:
    - name: Install Playwright browser
      shell: bash
      run: |
        INSTALL_ARGS=()
        if [ "${{ inputs.install_with_deps }}" = "true" ]; then
          INSTALL_ARGS+=(--with-deps)
        fi

        npx playwright install "${{ inputs.playwright_browser }}" "${INSTALL_ARGS[@]}"
